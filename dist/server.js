!function(e){var o={};function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)n.d(t,r,function(o){return e[o]}.bind(null,r));return t},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=0)}([function(e,o,n){(function(e){const o=n(1),t=o(),r=n(2),i=n(3);n(4);t.use(o.static("public")),t.set("views",e+"/views"),t.set("view engine","ejs"),t.engine("html",n(5).renderFile),t.use((e,o,n)=>{o.header("Access-Control-Allow-Origin",e.headers.origin),o.header("Access-Control-Allow-Credentials","true"),o.header("Access-Control-Allow-Headers","X-Requested-With"),o.header("Access-Control-Allow-Headers","Content-Type, Authorization"),o.header("Access-Control-Allow-Methods","PUT, GET, POST, DELETE, OPTIONS"),"OPTIONS"===e.method?o.status(200).end():n()}),t.use(i.json({limit:"10mb"})),t.use(i.urlencoded({limit:"10mb",extended:!0}));const s=t.listen(7e3,(function(){console.log("Express's started on port 7000")}));n(6).listen(s,{log:!1,origins:"*:*",pingInterval:3e3,pingTimeout:5e3}).sockets.on("connection",(e,o)=>{e.emit("message",{msg:"Welcome "+e.id}),r.log("connection>>",e.id,e.handshake.query),e.on("join",(function(o,n){e.join(o,(function(){r.log("Join",o,Object.keys(e.rooms)),n&&n()}))})),e.on("leave",(function(o,n){r.log("leave>>",o,e.id),e.leave(o,(function(){n&&n()}))})),e.on("rooms",(function(o){o&&o(Object.keys(e.rooms))})),e.on("message",(o,n)=>{r.log("message>>",o),e.broadcast.to(o.room).emit("message",{room:o.room,msg:o.msg}),n&&n(o.msg)}),e.on("message-for-one",(o,n,t)=>{e.to(o).emit("message",{msg:n})}),e.on("disconnecting",(function(o){r.log("disconnecting>>",e.id,Object.keys(e.rooms))})),e.on("disconnect",(function(o){r.log("disconnect>>",e.id,Object.keys(e.rooms))}))})}).call(this,"/")},function(e,o){e.exports=require("express")},function(e,o){e.exports=require("util")},function(e,o){e.exports=require("body-parser")},function(e){e.exports=JSON.parse('{"id":123,"name":"hong kil dong"}')},function(e,o){e.exports=require("ejs")},function(e,o){e.exports=require("socket.io")}]);